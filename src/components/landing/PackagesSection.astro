---
// src/components/landing/PackagesSection.astro
import { Gem } from "lucide-react"; // Only need Gem for the header badge in Astro
import { getCollection } from "astro:content"; // Keep for fetching data

// Import the NEW React component that handles the actual package display and animations
import { PackagesClientSection } from "./PackagesClientSection";

// Data Fetching (remains in Astro, as it's server-side)
const packages = await getCollection("packages");
const sortedPackages = packages.sort(
    (a, b) =>
        parseInt(a.data.price.replace(/\D/g, "")) -
        parseInt(b.data.price.replace(/\D/g, "")),
);
---

<section id="packages" class="py-24 bg-slate-50 relative overflow-hidden">
    {/* Background Grid - kept simple and elegant */}
    <div
        class="absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:40px_40px] [mask-image:radial-gradient(ellipse_50%_40%_at_50%_50%,#000_70%,transparent_100%)]"
    >
    </div>

    <div class="container mx-auto px-6 relative z-10">
        <div class="text-center max-w-3xl mx-auto mb-16 animate-fade-in-up">
            <div
                class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-50 text-blue-700 text-sm font-bold mb-6 border border-blue-100"
            >
                <Gem size={16} />
                Transparent Pricing
            </div>
            <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-6">
                Flexible Plans to <span
                    class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-teal-500"
                    >Boost Your Business.</span
                >
            </h2>
            <p class="text-lg text-slate-600 leading-relaxed">
                Choose the perfect starting point for your social media
                presence. No hidden fees, just clear value designed for results.
            </p>
        </div>

        <!-- Render the new React component here, passing the data and hydrating it client-side -->
        <PackagesClientSection packages={sortedPackages} client:visible />
    </div>
</section>
